<!DOCTYPE html>
<html>

<head>
    <title>Slider</title>
    <script src="https://cdn.jsdelivr.net/npm/nouislider@15.6.1/dist/nouislider.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nouislider@15.6.1/dist/nouislider.min.css">
    <link rel="stylesheet" href="https://unpkg.com/xp.css" />
    <style>
        input {
            width: 25px;
            text-align: center;
        }

        .noUi-handle {
            box-shadow: none;
        }

        .noUi-handle .noUi-touch-area {
            border: 1px solid transparent;
            position: absolute;
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
            width: auto;
            height: auto;
        }

        .noUi-handle::before,
        .noUi-handle::after {
            display: none;
        }

        .noUi-handle:hover .noUi-touch-area {
            border: 1px dashed #7f7f7f;
        }

        .noUi-target {
            height: 10px;
            width: 200px;
        }

        .toggle {
            width: 30px;
            background: gray;
        }

        .noUi-target .noUi-handle {
            height: 18px;
            width: 18px;
            top: -5px;
            right: -9px;
            /* half the width */
            border-radius: 9px;
        }

        .blue .noUi-connect {
            background: blue;
        }

        .red .noUi-connect {
            background: #c0392b;
        }

        .green .noUi-connect {
            background: green;
        }

        .field-row {
            margin: 10px 5px 10px 5px;
        }
    </style>
</head>

<body>
    <fieldset style="width:350px">
        <legend>메인</legend>
        <div class="field-row">
            <button id="capture">캡쳐</button>
            <button id="connect">연결</button>
        </div>
        <div class="field-row">
            <label>실행</label>
            <label>&nbsp;</label>
            <div id="toggle" class="toggle green"></div>
        </div>
    </fieldset>

    <fieldset style="width:350px">
        <legend>설정</legend>
        <div class="field-row">
            <section class="tabs">
                <menu role="tablist" aria-label="Sample Tabs">
                    <button role="tab" aria-selected="true" aria-controls="tab-A">슬롯-1</button>
                    <button role="tab" aria-controls="tab-B">슬롯-2</button>
                    <button role="tab" aria-controls="tab-C">슬롯-1</button>
                </menu>
                <article role="tabpanel" id="tab-A">
                    <div class="field-row">
                        <label>입력키:</label>
                        <input id="key1" type="text">
                        <label>&nbsp;</label>
                        <label>횟수:</label>
                        <input id="count1" type="text">
                        <label>&nbsp;</label>
                        <label>딜레이:</label>
                        <input id="delay1" type="text">
                        <label>&nbsp;</label>
                        <label>쿨타임:</label>
                        <input id="cool1" type="text">
                    </div>
                    <div class="field-row">
                        <label>구간1:</label>
                        <label>&nbsp;</label>
                        <div id="slider" class="red" style="display:inline-block"></div>
                        <label>&nbsp;</label>
                        <label id="hpRangeInfo1"></label>
                    </div>
                    <div class="field-row">
                        <label>구간2:</label>
                        <label>&nbsp;</label>
                        <div id="mpSlider1" class="blue" style="display:inline-block"></div>
                        <label>&nbsp;</label>
                        <label id="mpRangeInfo1"></label>
                    </div>
                </article>

                <article role="tabpanel" hidden id="tab-B">
                    <!-- <div class="field-row">
                        <input type="checkbox" id="pkActionUse">
                        <label for="pkActionUse">전투대응 사용</label>
                    </div>
                    <hr> -->
                    <div class="field-row">
                        <label>입력키:</label>
                        <input id="pkActionKey" type="text">
                        <label>&nbsp;</label>
                        <label>횟수:</label>
                        <input id="pkActionCount" type="text">
                        <label>&nbsp;</label>
                        <label>딜레이:</label>
                        <input id="pkActionCountDelay" type="text">
                    </div>
                    <div class="field-row">
                        <label>입력대기시간:</label>
                        <input id="pkActionInputDelay" type="text">
                        <label>&nbsp;</label>
                        <label>재사용:</label>
                        <input id="pkActionCool" type="text">
                    </div>
                </article>

                <article role="tabpanel" hidden id="tab-C">
                    <!-- <div class="field-row">
                        <input type="checkbox" id="timer1Use">
                        <label for="timer1Use">타이머-1 사용</label>
                    </div>
                    <hr> -->
                    <div class="field-row">
                        <label>사용구간(HP):</label>
                        <input id="timer1HpMin" type="text">
                        <span>~</span>
                        <input id="timer1HpMax" type="text">
                        <label>&nbsp;</label>
                        <label>사용구간(MP):</label>
                        <input id="timer1MpMin" type="text">
                        <span>~</span>
                        <input id="timer1MpMax" type="text">
                    </div>
                    <div class="field-row">
                        <label>입력키:</label>
                        <input id="timer1Key" type="text">
                        <label>&nbsp;</label>
                        <label>횟수:</label>
                        <input id="timer1Count" type="text">
                        <label>&nbsp;</label>
                        <label>딜레이:</label>
                        <input id="timer1CountDelay" type="text">
                        <label>&nbsp;</label>
                        <label>재사용:</label>
                        <input id="timer1Cool" type="text">
                    </div>
                </article>

                <article role="tabpanel" hidden id="tab-D">
                    <!-- <div class="field-row">
                        <input type="checkbox" id="timer2Use">
                        <label for="timer2Use">타이머-2 사용</label>
                    </div>
                    <hr> -->
                    <div class="field-row">
                        <label>사용구간(HP):</label>
                        <input id="timer2HpMin" type="text">
                        <span>~</span>
                        <input id="timer2HpMax" type="text">
                        <label>&nbsp;</label>
                        <label>사용구간(MP):</label>
                        <input id="timer2MpMin" type="text">
                        <span>~</span>
                        <input id="timer2MpMax" type="text">
                    </div>
                    <div class="field-row">
                        <label>입력키:</label>
                        <input id="timer2Key" type="text">
                        <label>&nbsp;</label>
                        <label>횟수:</label>
                        <input id="timer2Count" type="text">
                        <label>&nbsp;</label>
                        <label>딜레이:</label>
                        <input id="timer2CountDelay" type="text">
                        <label>&nbsp;</label>
                        <label>재사용:</label>
                        <input id="timer2Cool" type="text">
                    </div>
                </article>

                <article role="tabpanel" hidden id="tab-E">
                    <!-- <div class="field-row">
                        <input type="checkbox" id="timer3Use">
                        <label for="timer3Use">타이머-3 사용</label>
                    </div>
                    <hr> -->
                    <div class="field-row">
                        <label>사용구간(HP):</label>
                        <input id="timer3HpMin" type="text">
                        <span>~</span>
                        <input id="timer3HpMax" type="text">
                        <label>&nbsp;</label>
                        <label>사용구간(MP):</label>
                        <input id="timer3MpMin" type="text">
                        <span>~</span>
                        <input id="timer3MpMax" type="text">
                    </div>
                    <div class="field-row">
                        <label>입력키:</label>
                        <input id="timer3Key" type="text">
                        <label>&nbsp;</label>
                        <label>횟수:</label>
                        <input id="timer3Count" type="text">
                        <label>&nbsp;</label>
                        <label>딜레이:</label>
                        <input id="timer3CountDelay" type="text">
                        <label>&nbsp;</label>
                        <label>재사용:</label>
                        <input id="timer3Cool" type="text">
                    </div>
                </article>
            </section>
        </div>
    </fieldset>

</body>
<script>
    const slider = document.querySelector('#slider');
    noUiSlider.create(slider, {
        start: [20, 80],
        connect: true,
        range: { 'min': 0, 'max': 100 },
        step: 1
    });
    slider.noUiSlider.on("update", values => {
        const msg = `${Math.round(values[0])}-${Math.round(values[1])}%`;
        document.querySelector("#hpRangeInfo1").innerHTML = msg;
    });

    const mpSlider1 = document.querySelector("#mpSlider1");
    noUiSlider.create(mpSlider1, {
        start: [20, 80],
        connect: true,
        range: { 'min': 0, 'max': 100 },
        step: 1
    });
    mpSlider1.noUiSlider.on("update", values => {
        const msg = `${Math.round(values[0])}-${Math.round(values[1])}%`;
        document.querySelector("#mpRangeInfo1").innerHTML = msg;
    });

    const toggle = document.querySelector("#toggle");
    noUiSlider.create(toggle, {
        start: 0,
        range: { 'min': 0, 'max': 1 },
        connect: [true, false],
        step: 1
    });
    toggle.noUiSlider.on("start", value => {
        value == "0.00" ? toggle.noUiSlider.set(1) : toggle.noUiSlider.set(0);
    });
    toggle.noUiSlider.on("update", value => {
        console.log(value[0]);
    });

    const tabButtons = document.querySelectorAll("[role=tab]");
    tabButtons.forEach((tabButton) => {
        tabButton.addEventListener("click", (e) => {
            e.preventDefault();
            const tabContainer = e.target.parentElement.parentElement;
            const targetId = e.target.getAttribute("aria-controls");
            tabButtons.forEach((_tabButton) =>
                _tabButton.setAttribute("aria-selected", false)
            );
            tabButton.setAttribute("aria-selected", true);
            tabContainer
                .querySelectorAll("[role=tabpanel]")
                .forEach((tabPanel) => tabPanel.setAttribute("hidden", true));
            tabContainer
                .querySelector(`[role=tabpanel]#${targetId}`)
                .removeAttribute("hidden");
        });
    });

</script>

</html>
